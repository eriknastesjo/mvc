{% apply markdown_to_html %}



## Kmom06

### För varje krav du implementerat, dvs 1-3, 4, 5, 6, skriver du ett textstycke om ca 5-10 meningar där du beskriver hur du löste kravet.

#### Krav 1-3 (Webbplats)

Jag valde att skapa ett eget projekt, eller åtminstone en egen variant på äventyrsspel. Projektet var inte alltför omfattande men det blev mer fokus utseende och användarbarhet än vad jag hade trott från början. Här var det särskilt kul att få använda lite ny och gammal kunskap i Javascript. Javascript användes för att ändra muspekaren till en bild och ändra parametrar på formulär beroende på vad användaren klickar på.

Under utvecklingen av koden så fokuserade jag på att ha god struktur, dvs att inte blanda in så mycket logik i kontrollern utan delegera det till andra klasser. Detta lyckades någorlunda, särskilt genom att lägga all kod som sköter koppling till databasen i en separat klass. Jag siktade också på att skapa ett så generaliserbart API med så få hårdkodade bitar som möjligt. Exempelvis kan man skapa egna frön/plantor, ha olika många Plant objekt i Garden och olika antal orderprodukter från kunden.

I övrigt var kraven ganska rättfram. De olika verktygen användes för kodstil och linters. En del tips från phpmd ignorerades. De flesta handlade om att ett bool-värde används som argument i metoder i Repository modulerna. Detta ville jag inte ändra på då det riskerade att undergräva funktionaliteten. Ett klagomål på else-sats ignorerades också då jag inte kom på något rimligt sätt skriva om koden på.

Slutligen valde jag vid skapandet av enhetstester att exkludera modulen Database. Detta för att jag inte kom på något bra sätt att hantera argumenten ManagerRegistry och Repository. Dokumentation med adekvata doc blocks genomfördes. Metrics analys genomfördes och jag kände inte att den krävde någon större förändring av koden. Inte heller analys från Scrutinizer krävde någon större förändring.

#### Krav 4 (Snygg kod)

Här valde jag att redovisa kring kodkvalitet på muntligt vis. Det var roligt att grotta ner sig i begreppet och försöka få till ett rimligt anförande på så kort tid. Jag använde OBS för att spela in videon. Under inspelningen använde jag en andra skärm med stödord. Bilder bestod av en samling av skärmdumpar av egen kod och nedladdade bilder från pexels.

#### Krav 5 (Inloggning )

Inloggning skapades genom att lägga till en ny entitet User vars viktigaste egenskaper var "akronym", "password" och "status". Genom att lägga in diverse formulär och processer i controller och Database-klassen så skapades CRUD-funktionalitet. Jag märkte snart att Garden Controller fylldes av många metoder kring inloggning varför jag valde att flytta dem till en egen "User Controller".

Flera problem löstes enbart genom att hämta id:et från renderingsfilen och använda den för att hitta rätt User i databasen. Ett par nya session fick läggas till, dels för att kontrollera vem som är inloggad och dels om användaren är administrator. Enbart om man är administrator så kan man ta bort users och ändra status till "user" eller "admin".

#### Krav 6 (ORM)

Jag valde att skapa ett Plant objekt och ett Garden objekt som inte har en direkt koppling till Doctrine ORM. Information skickas istället indirekt till ett par olika tabeller i samband med att ett frö planteras eller när plantor blir sålda. När frö:et planteras så sparas id:et i Plant objektet och i ett senare skede skickas vidare till tabellen för sålda plantor. På så sätt kan tabellerna kopplas ihop (join). Metoden för att slå ihop tabellerna, joinedTables(), är placerad i GardenSalesRepository och skrevs i ren SQL-kod.

På history page så visas alltså tre tabeller. Det är dels tabell för planterade frön, tabell för sålda plantor samt en ihopslagning av dessa tabeller. I den ihopslagna tabellen finns id med för att kunna följa en enskild planta och där finns även planteringsdatumet och säljdatumet.

Jag är glad att jag genomförde krav 5-6 eftersom jag fick chansen att lära mig lite mer om hur Doctrine ORM egentligen fungerar.

### Skriv ett allmänt stycke om hur projektet gick att genomföra.

Projektet var bland det roligaste jag gjort under detta första år på programmet. Den största utmaningen bestod egentligen i att visa rätt bilder i Twig-filerna och att styra skeendet med Javascript. Det var i alla fall lärorikt och lite av en "ego boost" att få implementera en egen idé. Från början hade jag fler idéer men jag förstod snart att jag inte skulle hinna med att implementera dem. Jag upplever att storleken på projektet i slutändan blev rimligt men att det var svårt att hinna med alla optionella kraven.

### Avsluta med ett sista stycke med dina tankar om kursen och vad du anser om materialet och handledningen.

Detta kommer jag att redogöra för i kursutvärderingen istället.

{% endapply %}
